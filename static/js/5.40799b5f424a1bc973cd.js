webpackJsonp([5],{raZW:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=o("mtWM"),n=o.n(a),r={data:function(){return{form:{title:"",content:"",tab:"dev",accesstoken:"394686ea-c88a-4e05-80c1-ef425d6ada02",location:""}}},methods:{addTopic:function(){var t=this;this.$api.mock.cnode.addTopic(this.form).then(function(e){e.success&&t.$notify({title:"发布成功",message:e.error_msg,duration:2e3}),t.$notify.error({title:"发布失败",message:e.error_msg,duration:2e3})})}},created:function(){var t=this;navigator.geolocation?navigator.geolocation.getCurrentPosition(function(e){var o="http://api.map.baidu.com/geocoder/v2/?output=json&ak=DxTVZ6tSQkzkkGK4lGbB3rXPwDmWWwEw&location="+e.coords.latitude+","+e.coords.longitude;n.a.get(o).then(function(e){t.location=e.addressComponent.city})},function(t){console.log(t)}):console.log("不提此接口")}},i={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticClass:"form-wrapper"},[o("div",{staticClass:"form-header header"},[t._v("\n      新建主题, 您所在的城市： "+t._s(t.location)+"\n    ")]),t._v(" "),o("el-form",{staticClass:"form-content",attrs:{"label-width":"60px",model:t.form}},[o("el-row",[o("el-col",{attrs:{span:12}},[o("el-form-item",{attrs:{label:"标题"}},[o("el-input",{attrs:{placeholder:"请输入主题标题",rules:[{required:!0,message:"请输入到期日"}]},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1)],1)],1),t._v(" "),o("el-row",[o("el-col",{attrs:{span:23}},[o("el-form-item",{attrs:{label:"内容"}},[o("el-input",{attrs:{placeholder:"请输入主题内容",type:"textarea",rules:[{required:!0,message:"请输入帖子内容"}],autosize:{minRows:6,maxRows:16}},model:{value:t.form.content,callback:function(e){t.$set(t.form,"content",e)},expression:"form.content"}})],1)],1)],1),t._v(" "),o("el-row",[o("el-button",{attrs:{type:"primary",size:"medium",plain:""},on:{click:t.addTopic}},[t._v("发布主题")])],1)],1)],1)])},staticRenderFns:[]};var s=o("VU/8")(r,i,!1,function(t){o("y+QD")},null,null);e.default=s.exports},"y+QD":function(t,e){}});
//# sourceMappingURL=5.40799b5f424a1bc973cd.js.map